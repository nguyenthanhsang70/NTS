<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thử Thách - Nói Thật Hay Chịu Phạt</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #ff758c, #ff7eb3);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding-top: 60px;
            color: #fff;
        }
        .back-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(255, 255, 255, 0.15);
            padding: 8px 14px;
            border-radius: 8px;
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: background 0.2s;
            font-size: 16px;
        }
        .back-btn:hover {
            background: rgba(255, 255, 255, 0.25);
        }
        h1 {
            text-align: center;
            font-size: clamp(22px, 5vw, 36px);
            margin-bottom: 20px;
        }
        .container {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            max-width: 420px;
            width: 90%;
            color: #333;
        }
        input, button, select {
            width: 100%;
            padding: 10px;
            margin: 6px 0;
            font-size: 16px;
            border-radius: 6px;
            border: 1px solid #ccc;
            box-sizing: border-box;
        }
        button {
            background: #ff6f61;
            color: white;
            border: none;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, background 0.3s;
        }
        button:hover {
            background: #ff4a3d;
            transform: scale(1.05);
        }
        .result {
            text-align: center;
            margin-top: 15px;
            font-size: clamp(18px, 4vw, 24px);
            font-weight: bold;
            color: #333;
            min-height: 60px;
        }
        .list-section {
            margin-top: 15px;
            font-size: 14px;
            color: #333;
            max-height: 150px;
            overflow-y: auto;
            border-top: 1px solid #ccc;
            padding-top: 8px;
        }
        .list-section b {
            color: #ff4a3d;
        }
        .spin-animation {
            animation: spinText 0.6s ease-in-out 4;
        }
        @keyframes spinText {
            0% { transform: rotateX(0); opacity: 1; }
            50% { transform: rotateX(90deg); opacity: 0.5; }
            100% { transform: rotateX(0); opacity: 1; }
        }
        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }
            input, button, select {
                font-size: 14px;
                padding: 8px;
            }
        }
    </style>
</head>
<body>

    <a href="game.html" class="back-btn">
        <i class="fas fa-arrow-left"></i> Quay lại
    </a>

    <h1>Thử Thách - Nói Thật Hay Chịu Phạt</h1>

    <div class="container">
        <input type="text" id="playerName" placeholder="Nhập tên người chơi">
        <select id="challengeType">
            <option value="Thử Thách">Thử Thách</option>
            <option value="Nói Thật">Nói Thật</option>
            <option value="Chịu Phạt">Chịu Phạt</option>
        </select>
        <input type="text" id="challengeContent" placeholder="Nhập nội dung">
        <button onclick="addData()">Thêm</button>
        <button onclick="spin()">Quay</button>
        <div class="result" id="result"></div>
        <div class="list-section" id="listSection">
            <b>Danh sách đã thêm:</b><br>
            <i>Chưa có dữ liệu</i>
        </div>
    </div>

    <script>
        let players = [];
        let challenges = [];

        function updateList() {
            let listDiv = document.getElementById('listSection');
            let html = "<b>Người chơi:</b> " + (players.length ? players.join(", ") : "<i>Chưa có</i>") + "<br><b>Nội dung:</b><br>";
            if (challenges.length) {
                challenges.forEach(c => {
                    html += `- [${c.type}] ${c.content}<br>`;
                });
            } else {
                html += "<i>Chưa có</i>";
            }
            listDiv.innerHTML = html;
        }

        function addData() {
            let name = document.getElementById('playerName').value.trim();
            let type = document.getElementById('challengeType').value;
            let content = document.getElementById('challengeContent').value.trim();

            if (name && !players.includes(name)) players.push(name);
            if (content) challenges.push({ type: type, content: content });

            document.getElementById('playerName').value = '';
            document.getElementById('challengeContent').value = '';

            updateList();
            alert("Đã thêm!");
        }

        function spin() {
            if (players.length === 0 || challenges.length === 0) {
                alert("Vui lòng nhập ít nhất 1 tên và 1 nội dung!");
                return;
            }

            let randomPlayer = players[Math.floor(Math.random() * players.length)];
            let randomChallenge = challenges[Math.floor(Math.random() * challenges.length)];

            let resultDiv = document.getElementById('result');
            resultDiv.classList.remove('spin-animation');
            void resultDiv.offsetWidth;
            resultDiv.classList.add('spin-animation');

            setTimeout(() => {
                resultDiv.innerHTML = 
                    ` Người chơi: <b>${randomPlayer}</b><br>` +
                    ` ${randomChallenge.type}: <b>${randomChallenge.content}</b>`;
            }, 600 * 4);
        }
    </script>

</body>
</html>
